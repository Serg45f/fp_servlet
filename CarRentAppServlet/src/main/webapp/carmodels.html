<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{index}">

<body>
<div layout:fragment = "replace_fragment_main">
<br/>

    <div sec:authorize="hasAuthority('ADMIN')">
        <p>
            <a  sec:authorize="hasAuthority('ADMIN')" th:href="@{/carmodels/new}" class="btn btn-transparent btn-outline-success col-sm-12 px-0" >New</a>
        </p>
<!--        <div layout:fragment = "replace_fragment">-->
<!--            <a class="btn btn-transparent btn-outline-primary"  data-toggle="collapse" href="#collapseEvents" role="button" aria-expanded="false" aria-controls="collapseExample">-->
<!--                Add new event-->
<!--            </a>-->
<!--            <div class="collapse" id="collapseEvents">-->
<!--                <div class="form-group mt-3" >-->
<!--                    <form accept-charset="UTF-8" method="post" enctype="multipart/form-data"  th:action="@{/carmodels}" th:object = "${carmodel}">-->

<!--                        <div class="form-group">-->
<!--                            <input  type="text" class="form-control bg-transparent" placeholder="Name"-->
<!--                            th:field ="*{name}" />-->
<!--                            &lt;!&ndash;<th:block th:if="${#fields.hasErrors('name')}">-->
<!--                                <div th:errorclass="invalid-input" th:errors="*{name}"></div>-->
<!--                            </th:block>&ndash;&gt;-->
<!--                        </div>-->

<!--                        <div class="form-group">-->
<!--                            <input  type="text" class="form-control bg-transparent" placeholder="Seats"-->
<!--                                    th:field ="*{seatsNumb}" />-->
<!--                            &lt;!&ndash;<th:block th:if="${#fields.hasErrors('name')}">-->
<!--                                <div th:errorclass="invalid-input" th:errors="*{name}"></div>-->
<!--                            </th:block>&ndash;&gt;-->
<!--                        </div>-->

<!--                        <div class="form-group">-->
<!--                            <input  type="text" class="form-control bg-transparent"  placeholder="Doors"-->
<!--                                    th:field ="*{doorsNumb}" />-->
<!--                            &lt;!&ndash;<th:block th:if="${#fields.hasErrors('name')}">-->
<!--                                <div th:errorclass="invalid-input" th:errors="*{name}"></div>-->
<!--                            </th:block>&ndash;&gt;-->
<!--                        </div>-->

<!--                        <div class="form-group">-->
<!--                            <select type="text" class="form-control bg-transparent"  placeholder="Type"-->
<!--                                    th:field ="*{type}">-->
<!--                                <div th:each ="type:${cartypes}">-->
<!--                                    <option class="form-control bg-transparent"-->
<!--                                            th:value="${{type}}" th:text="${type.getType()}">Type</option>-->
<!--                                </div>-->
<!--                            </select>-->
<!--                        </div>-->

<!--                        <div class="form-group">-->
<!--                            <select type="text" class="form-control bg-transparent"  placeholder="Status"-->
<!--                                    th:field ="*{status}">-->
<!--                                <div th:each ="status:${carstatuses}">-->
<!--                                    <option class="form-control bg-transparent"-->
<!--                                            th:value="${{status}}" th:text="${status.getStatus()}">Status</option>-->
<!--                                </div>-->
<!--                            </select>-->
<!--                        </div>-->

<!--                        <div class="form-group">-->
<!--                            <div class="custom-pict">-->
<!--                                <input type="file" class="form-control-file bg-transparent" name="file" id="customPict" >-->
<!--                                <label class="custom-file-label" for="customPict">Choose picture</label>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                        <div class="form-group">-->
<!--                            <button type="submit" class="btn btn-transparent btn-outline-primary" >Add</button>-->
<!--                        </div>-->
<!--                    </form>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
    </div>
    <br>
    <div class="container">
        <h2 class="mt-3 "  th:text="#{carmodels.header}">Car models </h2>
          <div class="card-rows" id="each">
            <div th:each="carmodel : ${carmodels}">
                <div class="card  mb-3 " style="background-color: rgba(255,255,255,0.6);max-width: 1200px;">
                    <div class="row g-0">
                        <div class="col-md-4">
                            <img th:src="@{/pic/{path}(path=${carmodel.picture})}" class="card-img-top" alt="...">  <!--class="card-img-top"  width="200" height="150"-->
                        </div>
                        <div class="col-md-8">
                            <div class="card-body row">
                                <div class="col-md-8">
                                    <h4 class="card-title"  th:utext="${carmodel.name}">Название карточки</h4>
                                    <p class="card-text" th:utext="#{card.model.descr.seats(${carmodel.seatsNumb})}"><small>t</small></p>
                                    <p class="card-text" th:utext="#{card.model.descr.doors(${carmodel.doorsNumb})}"><small>t</small></p>
                                    <p class="card-text" th:utext="#{card.model.descr.type(${carmodel.type})}"><small>t</small></p>
                                    <p class="card-text" th:utext="#{card.model.descr.status(${carmodel.status})}"><small>t</small></p>
                                </div>
                                <div class="col-md-4">
                                    <h4 class="card-title" style="color: rgba(51,51,51,0.9);" th:utext="#{card.model.descr.price(${#numbers.formatDecimal(carmodel.price,2,2)})}" >
                                        <b>t</b></h4>
                                    <p>
                                        <a th:href="@{/carmodels/{id}(id=${carmodel.id})}" to="3" class="btn btn-transparent btn-outline-primary col-sm-12 px-0" >Open</a>
                                    </p>
                                    <p>
                                        <a  sec:authorize="hasAuthority('ADMIN')" th:href="@{/carmodels/edit/{id}(id=${carmodel.id})}" class="btn btn-transparent btn-outline-success col-sm-12 px-0" >Edit</a>
                                    </p>
                                    <p>
                                        <a  sec:authorize="hasAuthority('ADMIN')" th:href="@{/carmodels/delete/{id}(id=${carmodel.id})}" class="btn btn-transparent btn-outline-danger col-sm-12 px-0" >Delete</a>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
<!--            <div th:insert="~{pagination :: #pagination}"></div>-->

        </div>

    </div>
</div>


</body>
</html>